{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs","../src/js/markupGallery.js","../src/services/api.js","../src/services/buttonLoadMore.js","../src/main.js"],"sourcesContent":["export const refs = {\n  form: document.querySelector('.form'),\n  ulContainer: document.querySelector('.list_gallery'),\n  loader: document.querySelector('.loader'),\n  buttonLoadMore: document.querySelector('.button'),\n};\n","const markupGallery = arr => {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n          <a\n            class=\"gallery-link\"\n            href=\"${largeImageURL}\"\n          >\n            <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n            />\n          </a>\n          <div class=\"coments\">\n            <p class=\"comments-title\">\n              Likes<span class=\"comments-text\">${likes}</span>\n            </p>\n            <p class=\"comments-title\">\n              Views<span class=\"comments-text\">${views}</span>\n            </p>\n            <p class=\"comments-title\">\n              Comments<span class=\"comments-text\">${comments}</span>\n            </p>\n            <p class=\"comments-title\">\n              Downloads<span class=\"comments-text\">${downloads}</span>\n            </p>\n          </div>\n        </li>`\n    )\n    .join('');\n};\n\nexport { markupGallery };\n","import apiInstance from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '41980985-8125375fe1d9f9e65ca18808e';\n\nfunction serchPictureGallery(picture) {\n  return apiInstance\n    .get(`${BASE_URL}`, {\n      params: {\n        key: API_KEY,\n        q: picture,\n        image_type: 'photo',\n        image_type: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(({ data }) => data);\n}\n\nexport { serchPictureGallery };\n","const hiddenClass = 'is-hidden';\n\nfunction hide(button) {\n  button.classList.add(hiddenClass);\n}\n\nfunction show(button) {\n  button.classList.remove(hiddenClass);\n}\n\nfunction enable(button) {\n  button.disabled = false;\n}\n\nfunction disable(button) {\n  button.disabled = true;\n}\n\nexport const buttonLoadMore = { hide, show, enable, disable };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { refs } from './js/refs';\nimport { markupGallery } from './js/markupGallery';\nimport { serchPictureGallery } from './services/api';\nimport { buttonLoadMore } from './services/buttonLoadMore';\n\nconst pageSizeParams = {\n  page: 1,\n  maxPage: 0,\n  pageSize: 40,\n};\n\nrefs.loader.style.display = 'none';\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(event) {\n  event.preventDefault();\n\n  refs.ulContainer.innerHTML = '';\n  refs.loader.style.display = 'block';\n  const form = event.currentTarget;\n  const input = form.elements.text.value.trim();\n\n  try {\n    const { hits } = await serchPictureGallery(input);\n    console.log(hits);\n    refs.loader.style.display = 'none';\n\n    if (hits.length === 0) {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        backgroundColor: '#EF4040',\n        color: '#FAFAFB',\n      });\n    }\n\n    if (!input) {\n      iziToast.error({\n        message: 'Sorry, you have not entered anything!',\n        position: 'topRight',\n        backgroundColor: '#EF4040',\n        color: '#FAFAFB',\n      });\n      return;\n    }\n\n    refs.ulContainer.innerHTML = markupGallery(hits);\n\n    const lightbox = new SimpleLightbox('.list_gallery a', {\n      caption: true,\n      captionsData: 'alt',\n      captionPosition: 'bottom',\n      captionDelay: 250,\n    });\n    lightbox.refresh();\n\n    if (hits.length > 0 && hits.length !== totalResults) {\n      buttonLoadMore.show(refs.buttonLoadMore);\n      refs.buttonLoadMore.addEventListener('click', onButtonLoadMoreClick);\n    } else {\n      buttonLoadMore.hide(refs.buttonLoadMore);\n    }\n  } catch (error) {\n    console.log(error);\n    refs.loader.style.display = 'none';\n  } finally {\n    form.reset();\n  }\n}\n\nasync function onButtonLoadMoreClick() {\n  pageSizeParams.page += 1;\n  buttonLoadMore.disable(buttonLoadMore);\n}\n"],"names":["refs","markupGallery","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","BASE_URL","API_KEY","serchPictureGallery","picture","apiInstance","data","hiddenClass","hide","button","show","enable","disable","buttonLoadMore","onFormSubmit","event","form","input","hits","iziToast","SimpleLightbox","onButtonLoadMoreClick","error"],"mappings":"owBAAO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,YAAa,SAAS,cAAc,eAAe,EACnD,OAAQ,SAAS,cAAc,SAAS,EACxC,eAAgB,SAAS,cAAc,SAAS,CAClD,ECLMC,EAAgBC,GACbA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA;AAAA,oBAGQL;AAAA;AAAA;AAAA;AAAA,qBAICD;AAAA,qBACAE;AAAA;AAAA;AAAA;AAAA;AAAA,iDAK4BC;AAAA;AAAA;AAAA,iDAGAC;AAAA;AAAA;AAAA,oDAGGC;AAAA;AAAA;AAAA,qDAGCC;AAAA;AAAA;AAAA,cAIhD,EACA,KAAK,EAAE,ECpCNC,EAAW,2BACXC,EAAU,qCAEhB,SAASC,EAAoBC,EAAS,CACpC,OAAOC,EACJ,IAAI,GAAGJ,IAAY,CAClB,OAAQ,CACN,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,WAAY,aACZ,WAAY,EACb,CACP,CAAK,EACA,KAAK,CAAC,CAAE,KAAAE,CAAM,IAAKA,CAAI,CAC5B,CCjBA,MAAMC,EAAc,YAEpB,SAASC,EAAKC,EAAQ,CACpBA,EAAO,UAAU,IAAIF,CAAW,CAClC,CAEA,SAASG,EAAKD,EAAQ,CACpBA,EAAO,UAAU,OAAOF,CAAW,CACrC,CAEA,SAASI,EAAOF,EAAQ,CACtBA,EAAO,SAAW,EACpB,CAEA,SAASG,EAAQH,EAAQ,CACvBA,EAAO,SAAW,EACpB,CAEO,MAAMI,EAAiB,CAAE,KAAAL,EAAM,KAAAE,EAAM,OAAAC,EAAQ,QAAAC,CAAS,ECF7DrB,EAAK,OAAO,MAAM,QAAU,OAE5BA,EAAK,KAAK,iBAAiB,SAAUuB,CAAY,EAEjD,eAAeA,EAAaC,EAAO,CACjCA,EAAM,eAAc,EAEpBxB,EAAK,YAAY,UAAY,GAC7BA,EAAK,OAAO,MAAM,QAAU,QAC5B,MAAMyB,EAAOD,EAAM,cACbE,EAAQD,EAAK,SAAS,KAAK,MAAM,OAEvC,GAAI,CACF,KAAM,CAAE,KAAAE,CAAM,EAAG,MAAMf,EAAoBc,CAAK,EAchD,GAbA,QAAQ,IAAIC,CAAI,EAChB3B,EAAK,OAAO,MAAM,QAAU,OAExB2B,EAAK,SAAW,GAClBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,MAAO,SACf,CAAO,EAGC,CAACF,EAAO,CACVE,EAAS,MAAM,CACb,QAAS,wCACT,SAAU,WACV,gBAAiB,UACjB,MAAO,SACf,CAAO,EACD,MACD,CAED5B,EAAK,YAAY,UAAYC,EAAc0B,CAAI,EAE9B,IAAIE,EAAe,kBAAmB,CACrD,QAAS,GACT,aAAc,MACd,gBAAiB,SACjB,aAAc,GACpB,CAAK,EACQ,QAAO,EAEZF,EAAK,OAAS,GAAKA,EAAK,SAAW,cACrCL,EAAe,KAAKtB,EAAK,cAAc,EACvCA,EAAK,eAAe,iBAAiB,QAAS8B,CAAqB,GAEnER,EAAe,KAAKtB,EAAK,cAAc,CAE1C,OAAQ+B,EAAP,CACA,QAAQ,IAAIA,CAAK,EACjB/B,EAAK,OAAO,MAAM,QAAU,MAChC,QAAY,CACRyB,EAAK,MAAK,CACX,CACH,CAEA,eAAeK,GAAwB,CAErCR,EAAe,QAAQA,CAAc,CACvC"}